{"version":3,"file":"_page.svelte-DLwxEvCX.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_page.svelte.js"],"sourcesContent":["import { i as is_array, b as get_prototype_of, o as object_prototype, s as setContext, m as getContext, q as hasContext, t as run, u as once, v as ensure_array_like, l as pop, p as push } from \"../../chunks/index.js\";\nimport { prepareAttachmentsForRequest, getMessageParts, updateToolCallResult, isAssistantMessageWithCompletedToolCalls, fillMessageParts, extractMaxToolInvocationStep, callChatApi, shouldResubmitMessages, generateId } from \"@ai-sdk/ui-utils\";\nimport { isAbortError } from \"@ai-sdk/provider-utils\";\nimport \"clsx\";\nimport { e as escape_html } from \"../../chunks/escaping.js\";\nconst empty = [];\nfunction snapshot(value, skip_warning = false) {\n  return clone(value, /* @__PURE__ */ new Map(), \"\", empty);\n}\nfunction clone(value, cloned, path, paths, original = null) {\n  if (typeof value === \"object\" && value !== null) {\n    var unwrapped = cloned.get(value);\n    if (unwrapped !== void 0) return unwrapped;\n    if (value instanceof Map) return (\n      /** @type {Snapshot<T>} */\n      new Map(value)\n    );\n    if (value instanceof Set) return (\n      /** @type {Snapshot<T>} */\n      new Set(value)\n    );\n    if (is_array(value)) {\n      var copy = (\n        /** @type {Snapshot<any>} */\n        Array(value.length)\n      );\n      cloned.set(value, copy);\n      if (original !== null) {\n        cloned.set(original, copy);\n      }\n      for (var i = 0; i < value.length; i += 1) {\n        var element = value[i];\n        if (i in value) {\n          copy[i] = clone(element, cloned, path, paths);\n        }\n      }\n      return copy;\n    }\n    if (get_prototype_of(value) === object_prototype) {\n      copy = {};\n      cloned.set(value, copy);\n      if (original !== null) {\n        cloned.set(original, copy);\n      }\n      for (var key in value) {\n        copy[key] = clone(value[key], cloned, path, paths);\n      }\n      return copy;\n    }\n    if (value instanceof Date) {\n      return (\n        /** @type {Snapshot<T>} */\n        structuredClone(value)\n      );\n    }\n    if (typeof /** @type {T & { toJSON?: any } } */\n    value.toJSON === \"function\") {\n      return clone(\n        /** @type {T & { toJSON(): any } } */\n        value.toJSON(),\n        cloned,\n        path,\n        paths,\n        // Associate the instance with the toJSON clone\n        value\n      );\n    }\n  }\n  if (value instanceof EventTarget) {\n    return (\n      /** @type {Snapshot<T>} */\n      value\n    );\n  }\n  try {\n    return (\n      /** @type {Snapshot<T>} */\n      structuredClone(value)\n    );\n  } catch (e) {\n    return (\n      /** @type {Snapshot<T>} */\n      value\n    );\n  }\n}\nconst replacements = {\n  translate: /* @__PURE__ */ new Map([\n    [true, \"yes\"],\n    [false, \"no\"]\n  ])\n};\nfunction attr(name, value, is_boolean = false) {\n  if (value == null || !value && is_boolean) return \"\";\n  const normalized = name in replacements && replacements[name].get(value) || value;\n  const assignment = is_boolean ? \"\" : `=\"${escape_html(normalized, true)}\"`;\n  return ` ${name}${assignment}`;\n}\nconst SvelteMap = globalThis.Map;\nfunction createContext(name) {\n  const key = Symbol(name);\n  return {\n    hasContext: () => {\n      try {\n        return hasContext(key);\n      } catch (e) {\n        if (typeof e === \"object\" && e !== null && \"message\" in e && typeof e.message === \"string\" && e.message?.includes(\"lifecycle_outside_component\")) {\n          return false;\n        }\n        throw e;\n      }\n    },\n    getContext: () => getContext(key),\n    setContext: (value) => setContext(key, value)\n  };\n}\nclass KeyedStore extends SvelteMap {\n  #itemConstructor;\n  constructor(itemConstructor, value) {\n    super(value);\n    this.#itemConstructor = itemConstructor;\n  }\n  get(key) {\n    const test = super.get(key) ?? // Untrack here because this is technically a state mutation, meaning\n    // deriveds downstream would fail. Because this is idempotent (even\n    // though it's not pure), it's safe.\n    run(() => this.set(key, new this.#itemConstructor())).get(key);\n    return test;\n  }\n}\nclass ChatStore {\n  messages = [];\n  data;\n  status = \"ready\";\n  error;\n}\nclass KeyedChatStore extends KeyedStore {\n  constructor(value) {\n    super(ChatStore, value);\n  }\n}\nconst {\n  hasContext: hasChatContext,\n  getContext: getChatContext\n} = createContext(\"Chat\");\nclass Chat {\n  #options = {};\n  #api = once(() => this.#options.api ?? \"/api/chat\");\n  #generateId = once(() => this.#options.generateId ?? generateId);\n  #maxSteps = once(() => this.#options.maxSteps ?? 1);\n  #streamProtocol = once(() => this.#options.streamProtocol ?? \"data\");\n  #keyedStore;\n  #id = once(() => this.#options.id ?? this.#generateId()());\n  get id() {\n    return this.#id();\n  }\n  #store = once(() => this.#keyedStore.get(this.id));\n  #abortController;\n  /**\n   * Additional data added on the server via StreamData.\n   *\n   * This is writable, so you can use it to transform or clear the chat data.\n   */\n  get data() {\n    return this.#store().data;\n  }\n  set data(value) {\n    this.#store().data = value;\n  }\n  /**\n   * Hook status:\n   *\n   * - `submitted`: The message has been sent to the API and we're awaiting the start of the response stream.\n   * - `streaming`: The response is actively streaming in from the API, receiving chunks of data.\n   * - `ready`: The full response has been received and processed; a new user message can be submitted.\n   * - `error`: An error occurred during the API request, preventing successful completion.\n   */\n  get status() {\n    return this.#store().status;\n  }\n  /** The error object of the API request */\n  get error() {\n    return this.#store().error;\n  }\n  /** The current value of the input. Writable, so it can be bound to form inputs. */\n  input;\n  /**\n   * Current messages in the chat.\n   *\n   * This is writable, which is useful when you want to edit the messages on the client, and then\n   * trigger {@link reload} to regenerate the AI response.\n   */\n  get messages() {\n    return this.#store().messages;\n  }\n  set messages(value) {\n    run(() => this.#store().messages = fillMessageParts(value));\n  }\n  constructor(options = {}) {\n    if (hasChatContext()) {\n      this.#keyedStore = getChatContext();\n    } else {\n      this.#keyedStore = new KeyedChatStore();\n    }\n    this.#options = options;\n    this.messages = options.initialMessages ?? [];\n    this.input = options.initialInput ?? \"\";\n  }\n  /**\n   * Append a user message to the chat list. This triggers the API call to fetch\n   * the assistant's response.\n   * @param message The message to append\n   * @param options Additional options to pass to the API call\n   */\n  append = async (message, {\n    data,\n    headers,\n    body,\n    experimental_attachments\n  } = {}) => {\n    const attachmentsForRequest = await prepareAttachmentsForRequest(experimental_attachments);\n    const messages = this.messages.concat({\n      ...message,\n      id: message.id ?? this.#generateId()(),\n      createdAt: message.createdAt ?? /* @__PURE__ */ new Date(),\n      experimental_attachments: attachmentsForRequest.length > 0 ? attachmentsForRequest : void 0,\n      parts: getMessageParts(message)\n    });\n    return this.#triggerRequest({ messages, headers, body, data });\n  };\n  /**\n   * Reload the last AI chat response for the given chat history. If the last\n   * message isn't from the assistant, it will request the API to generate a\n   * new response.\n   */\n  reload = async ({ data, headers, body } = {}) => {\n    if (this.messages.length === 0) {\n      return;\n    }\n    const lastMessage = this.messages[this.messages.length - 1];\n    await this.#triggerRequest({\n      messages: lastMessage.role === \"assistant\" ? this.messages.slice(0, -1) : this.messages,\n      headers,\n      body,\n      data\n    });\n  };\n  /**\n   * Abort the current request immediately, keep the generated tokens if any.\n   */\n  stop = () => {\n    try {\n      this.#abortController?.abort();\n    } catch {\n    } finally {\n      this.#store().status = \"ready\";\n      this.#abortController = void 0;\n    }\n  };\n  /** Form submission handler to automatically reset input and append a user message */\n  handleSubmit = async (event, options = {}) => {\n    event?.preventDefault?.();\n    if (!this.input && !options.allowEmptySubmit) return;\n    const attachmentsForRequest = await prepareAttachmentsForRequest(options.experimental_attachments);\n    const messages = this.messages.concat({\n      id: this.#generateId()(),\n      createdAt: /* @__PURE__ */ new Date(),\n      role: \"user\",\n      content: this.input,\n      experimental_attachments: attachmentsForRequest.length > 0 ? attachmentsForRequest : void 0,\n      parts: [{ type: \"text\", text: this.input }]\n    });\n    const chatRequest = {\n      messages,\n      headers: options.headers,\n      body: options.body,\n      data: options.data\n    };\n    const request = this.#triggerRequest(chatRequest);\n    this.input = \"\";\n    await request;\n  };\n  addToolResult = async ({ toolCallId, result }) => {\n    updateToolCallResult({\n      messages: this.messages,\n      toolCallId,\n      toolResult: result\n    });\n    if (this.#store().status === \"submitted\" || this.#store().status === \"streaming\") {\n      return;\n    }\n    const lastMessage = this.messages[this.messages.length - 1];\n    if (isAssistantMessageWithCompletedToolCalls(lastMessage)) {\n      await this.#triggerRequest({ messages: this.messages });\n    }\n  };\n  #triggerRequest = async (chatRequest) => {\n    this.#store().status = \"submitted\";\n    this.#store().error = void 0;\n    const messages = fillMessageParts(chatRequest.messages);\n    const messageCount = messages.length;\n    const maxStep = extractMaxToolInvocationStep(messages[messages.length - 1]?.toolInvocations);\n    try {\n      const abortController = new AbortController();\n      this.#abortController = abortController;\n      this.messages = messages;\n      const constructedMessagesPayload = this.#options.sendExtraMessageFields ? messages : messages.map(({\n        role,\n        content,\n        experimental_attachments,\n        data,\n        annotations,\n        toolInvocations,\n        parts\n      }) => ({\n        role,\n        content,\n        ...experimental_attachments !== void 0 && { experimental_attachments },\n        ...data !== void 0 && { data },\n        ...annotations !== void 0 && { annotations },\n        ...toolInvocations !== void 0 && { toolInvocations },\n        ...parts !== void 0 && { parts }\n      }));\n      const existingData = this.data ?? [];\n      await callChatApi({\n        api: this.#api(),\n        body: {\n          id: this.id,\n          messages: constructedMessagesPayload,\n          data: chatRequest.data,\n          ...snapshot(this.#options.body),\n          ...chatRequest.body\n        },\n        streamProtocol: this.#streamProtocol(),\n        credentials: this.#options.credentials,\n        headers: {\n          ...this.#options.headers,\n          ...chatRequest.headers\n        },\n        abortController: () => abortController,\n        restoreMessagesOnFailure: () => {\n        },\n        onResponse: this.#options.onResponse,\n        onUpdate: ({ message, data, replaceLastMessage }) => {\n          this.#store().status = \"streaming\";\n          this.messages = messages;\n          if (replaceLastMessage) {\n            this.messages[this.messages.length - 1] = message;\n          } else {\n            this.messages.push(message);\n          }\n          if (data?.length) {\n            this.data = existingData;\n            this.data.push(...data);\n          }\n        },\n        onToolCall: this.#options.onToolCall,\n        onFinish: this.#options.onFinish,\n        generateId: this.#generateId(),\n        fetch: this.#options.fetch,\n        // callChatApi calls structuredClone on the message\n        lastMessage: snapshot(this.messages[this.messages.length - 1])\n      });\n      this.#abortController = void 0;\n      this.#store().status = \"ready\";\n    } catch (error) {\n      if (isAbortError(error)) {\n        return;\n      }\n      const coalescedError = error instanceof Error ? error : new Error(String(error));\n      if (this.#options.onError) {\n        this.#options.onError(coalescedError);\n      }\n      this.#store().status = \"error\";\n      this.#store().error = coalescedError;\n    }\n    if (shouldResubmitMessages({\n      originalMaxToolInvocationStep: maxStep,\n      originalMessageCount: messageCount,\n      maxSteps: this.#maxSteps(),\n      messages: this.messages\n    })) {\n      await this.#triggerRequest({ messages: this.messages });\n    }\n  };\n}\nfunction _page($$payload, $$props) {\n  push();\n  const chat = new Chat();\n  const each_array = ensure_array_like(chat.messages);\n  $$payload.out += `<main><ul><!--[-->`;\n  for (let messageIndex = 0, $$length = each_array.length; messageIndex < $$length; messageIndex++) {\n    let message = each_array[messageIndex];\n    const each_array_1 = ensure_array_like(message.parts);\n    $$payload.out += `<li><div>${escape_html(message.role)}</div> <div><!--[-->`;\n    for (let partIndex = 0, $$length2 = each_array_1.length; partIndex < $$length2; partIndex++) {\n      let part = each_array_1[partIndex];\n      if (part.type === \"text\") {\n        $$payload.out += \"<!--[-->\";\n        $$payload.out += `<div>${escape_html(part.text)}</div>`;\n      } else {\n        $$payload.out += \"<!--[!-->\";\n      }\n      $$payload.out += `<!--]-->`;\n    }\n    $$payload.out += `<!--]--></div></li>`;\n  }\n  $$payload.out += `<!--]--></ul> <form><input${attr(\"value\", chat.input)}> <button type=\"submit\">Send</button></form></main>`;\n  pop();\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}